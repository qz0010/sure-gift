<ng-template #valuesTmp let-price="price">
  <p class="r-table__text" *ngIf="cart.total_cost > 0">
    Благодаря вам <span class="r-table__text-mark">
            {{cart.total_cost | countValuesByPrice}} {{cart.total_cost | countValuesByPrice | numerative: [
    'Child1' | translate, 'Child2' | translate, 'Child3' | translate
  ]}} {{cart.total_cost | countValuesByPrice | numerative: [
    'Visit1' | translate, 'Visit2' | translate, 'Visit3' | translate
  ]}}</span> киноконцерт
    <br>{{cart.oneValuePrice | money}} = 1 входной билет для ребенка
  </p>
</ng-template>

<div class="cart mxn-container mxn-container_gap-2">
  <div class="mxn-logo-head mxn-logo-head_mb-1">
    <svg class="mxn-logo-head-svg mxn-logo-head-svg_sz-1" xmlns="http://www.w3.org/2000/svg" width="168" height="50" viewBox="0 0 168 50">
      <path fill="#FF3838" fill-rule="evenodd" d="M.5 33.679h11.415c.056.372.095.717.162 1.056.565 2.865 2.21 4.826 4.95 5.749 2.61.88 5.272.934 7.861-.097a6.312 6.312 0 0 0 2.138-1.422c1.833-1.888 1.53-4.777-.74-6.07-1.435-.818-3.062-1.344-4.656-1.815-3.21-.948-6.495-1.653-9.68-2.677-2.952-.95-5.537-2.573-7.381-5.202C1.289 18.524.836 8.63 8.767 3.564 12.664 1.076 16.973.307 21.496.54c4.17.215 8.042 1.385 11.343 4.063 3.87 3.14 5.742 7.313 6.103 12.309H27.59c-.068-.49-.111-.976-.205-1.451-.634-3.228-2.92-5.371-6.18-5.839-1.549-.222-3.082-.227-4.561.327-.626.234-1.253.537-1.786.935-2.38 1.778-2.343 5.03.195 6.548 1.392.832 2.995 1.376 4.566 1.815 3.276.916 6.638 1.54 9.88 2.554 1.854.58 3.66 1.515 5.281 2.602 3.041 2.037 4.476 5.113 4.666 8.737.388 7.419-3.325 13.22-10.315 15.612-7.227 2.474-14.36 2.104-20.987-1.993-4.41-2.725-6.82-6.872-7.492-12.041-.031-.24-.1-.474-.152-.71v-.328zm136.885-6.647c-.095-2.65-.884-4.897-3.21-6.194-2.712-1.512-5.532-1.411-8.158.235-2.118 1.328-2.87 3.476-2.992 5.96h14.36zm-14.646 6.469c.244 3.067 1.036 5.777 3.884 7.182 2.905 1.433 5.87 1.31 8.655-.463 1.108-.705 1.8-1.775 2.238-3.024.082-.233.39-.545.598-.548 3.405-.034 6.81-.024 10.305-.024-.272 1.654-.838 3.134-1.596 4.535-2.897 5.355-7.515 8.11-13.398 8.862-4.033.514-7.947-.002-11.598-1.866-5.674-2.898-8.627-7.743-9.453-13.97-.617-4.646-.091-9.155 2.249-13.295 2.936-5.193 7.46-8.048 13.293-8.811 4.212-.551 8.274.012 11.982 2.197 5.082 2.992 7.73 7.632 8.46 13.412.207 1.631.015 3.311.06 4.967.021.77-.335.86-.985.859-7.87-.02-15.74-.013-23.61-.013h-1.084zM56.216 12.754v1.029c0 6.543-.014 13.087.014 19.63.004 1.084.089 2.189.315 3.244.454 2.113 1.665 3.626 3.87 4.01 2.31.4 4.371-.093 5.83-2.13.963-1.345 1.407-2.895 1.453-4.523.08-2.778.066-5.56.072-8.34.01-3.982.003-7.962.003-11.943v-.99h10.773v36.593h-9.18l-1.561-5.607c-.497.76-.899 1.465-1.387 2.103-2.68 3.503-6.324 4.65-10.551 4.294-2.362-.199-4.562-.893-6.439-2.407-2.623-2.119-3.8-4.99-3.949-8.28-.128-2.83-.07-5.67-.075-8.504-.008-5.726-.002-11.452-.002-17.177v-1.002h10.814zm39.256.019l1.57 7.545c2.911-4.845 6.742-8.04 12.486-8.447v13.86c-.813-.106-1.58-.239-2.354-.303-1.974-.163-3.897.105-5.697.947-2.783 1.302-4.31 3.555-4.364 6.63-.091 5.097-.038 10.197-.045 15.296v1.028H86.281V12.773h9.191zm59.302 36.58V36.69h12.561v12.662h-12.561z"/>
    </svg>
  </div>

  <section class="mxn-section mxn-section_mb-1 mxn-section_pad-1 mxn-section_theme-1">
    <div class="mxn-section-head mxn-section-head_mb-1">
      <div class="mxn-section-head-row mxn-section-head-row_mb-1">
        <h4 class="mxn-title mxn-title_sz-1">Ваш взнос</h4>
      </div>
    </div>

    <div class="r-table">
      <div class="r-table__table">
        <div class="r-table__tr-wrap">
          <div class="r-table__tr r-table__tr_wrap r-table__tr_ali-c">
            <div class="r-table__td r-table__td_head">
            <span class="r-table__value" *ngIf="cart.currEvent?.name">
              {{cart.currEvent.name | multilang}}
            </span>
            </div>
            <div class="r-table__td r-table__td_text mxn-desktop">
              <ng-container [ngTemplateOutlet]="valuesTmp"></ng-container>
            </div>
            <div class="r-table__td mxn-mobile">
              <!--             (click)="onDelete()"-->
              <div class="r-table__ico r-table__ico_c-1 mxn-cur-p" (click)="cart.changePriceCalc(-cart.total_cost)">
                <svg xmlns="http://www.w3.org/2000/svg" width="21" height="21" viewBox="0 0 21 21">
                  <path fill="#D8D8D8" fill-rule="evenodd" d="M10.5 20.988c-5.799 0-10.5-4.7-10.5-10.5C0 4.69 4.701-.012 10.5-.012S21 4.69 21 10.488c0 5.8-4.701 10.5-10.5 10.5zm1.429-10.599l2.828-2.828a1 1 0 0 0-1.414-1.415l-2.828 2.829-2.829-2.829a1 1 0 0 0-1.414 1.415l2.829 2.828-2.829 2.828a1 1 0 0 0 1.414 1.415l2.829-2.829 2.828 2.829a1 1 0 1 0 1.414-1.415L11.93 10.39z"/>
                </svg>
              </div>
            </div>
            <div class="r-table__td r-table__td_text mxn-mobile">
              <ng-container [ngTemplateOutlet]="valuesTmp"></ng-container>
            </div>
            <div class="r-table__td r-table__td_buttons r-table__td_m-full-width">
              <div class="r-table__items r-table__items_cart">
                <div class="r-table__item r-table__item_mr-2">
                  <div class="r-table__items">
                    <div class="r-table__item r-table__item_mr-1">
                      <app-plus-minus [max_value]="((showcase?.prices_range || [])[1] || 1000000000) / 100"
                                      [value]="cart.total_cost"
                                      [valueStep]="cart.pricesRange[0]"
                                      (increment)="cart.changePriceCalc($event.valueStep)"
                                      (decrement)="cart.changePriceCalc(-$event.valueStep)">
                      </app-plus-minus>
                    </div>
                  </div>
                </div>
                <div class="r-table__item mxn-desktop">
                  <!--                (click)="onDelete()"-->
                  <div class="r-table__ico r-table__ico_c-1 mxn-cur-p" (click)="cart.changePriceCalc(-cart.total_cost)">
                    <svg xmlns="http://www.w3.org/2000/svg" width="21" height="21" viewBox="0 0 21 21">
                      <path fill="#D8D8D8" fill-rule="evenodd" d="M10.5 20.988c-5.799 0-10.5-4.7-10.5-10.5C0 4.69 4.701-.012 10.5-.012S21 4.69 21 10.488c0 5.8-4.701 10.5-10.5 10.5zm1.429-10.599l2.828-2.828a1 1 0 0 0-1.414-1.415l-2.828 2.829-2.829-2.829a1 1 0 0 0-1.414 1.415l2.829 2.828-2.829 2.828a1 1 0 0 0 1.414 1.415l2.829-2.829 2.828 2.829a1 1 0 1 0 1.414-1.415L11.93 10.39z"/>
                    </svg>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="r-table__tr-wrap">
          <div class="r-table__tr">
            <div class="r-table__td r-table__td_head">
              <div class="r-table__td-row">
                <span class="r-table__value r-table__value_c-3">
                  Итоговая сумма взноса
                </span>
              </div>
            </div>
            <div class="r-table__td r-table__td_value">
              <span class="r-table__value r-table__value_c-3">
                  {{cart.total_cost | money}}
              </span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <app-cart-personal [paymentMethods]="paymentMethods"
                     (selectPaymentMethod)="onSelectPaymentMethod($event)"
                     (submitForm)="onSubmit($event)">
  </app-cart-personal>

<!--  <section class="mxn-section mxn-section_mb-1 mxn-section_pad-1 mxn-section_theme-1">-->
<!--    <div class="mxn-section-head mxn-section-head_mb-1">-->
<!--      <div class="mxn-section-head-row mxn-section-head-row_mb-1">-->
<!--        <h4 class="mxn-title mxn-title_sz-1">Персональные данные</h4>-->
<!--      </div>-->
<!--    </div>-->
<!--  </section>-->
</div>
